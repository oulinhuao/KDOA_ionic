<ion-view >
    <ion-content scroll="true" style="margin-top:40px">
        <ion-refresher pulling-icon="ion-loading-c" pulling-text="下拉刷新"
                       refreshing-text="刷新成功" refreshing-icon="ion-loading-c"
                       on-refresh="ctrl.doRefresh()">
        </ion-refresher>

      <div id="layout_loading_frist" ng-show="ctrl.isFrist">
        <ion-spinner icon="android"></ion-spinner>
      </div>

        <ion-list >
            <ion-item style="padding: 0;"
                      ng-repeat="worklog in ctrl.list"
                      ng-click="goDetial(worklog)">
                <div class="hour-layout">
                  <a class="hour-value">{{worklog.WorkHour}}</a>
                  <a class="hour-text">小时</a>
                  <a class="work-date">{{worklog.WorkDate}}</a>
                </div>
                <div style="overflow-x: hidden; text-overflow: ellipsis;">
                  <a class="ProjName">{{worklog.ProjName}}</a>
                  <a class="ProjType">{{worklog.WorkTypeName}}</a>
                </div>
              <ion-option-button
                class="button-balanced my-option-size"
                ng-click="ctrl.doEdit($index,worklog)">
                修改
              </ion-option-button>
              <ion-option-button
                class="button-assertive my-option-size"
                ng-click="ctrl.doDelete($index)">
                删除
              </ion-option-button>
            </ion-item>
        </ion-list>

      <ion-infinite-scroll
        ng-if="ctrl.currentCount != 0 && ctrl.currentCount <= ctrl.allCount"
        on-infinite="ctrl.doLoadMore()"
        distance="1%"
        icon="ion-load-a" immediate-check="false">
      </ion-infinite-scroll>
    </ion-content>
</ion-view>


